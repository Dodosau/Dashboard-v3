<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">

  <title>Dashboard</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <!-- CSS -->
  <link id="cssBase" rel="stylesheet" href="css/base.css">
  <link id="cssLayout" rel="stylesheet" href="css/layout.css">
  <link id="cssComponents" rel="stylesheet" href="css/components.css">
  <link id="cssCalendar" rel="stylesheet" href="widgets/calendar/calendar.css">
  <link id="cssWeather" rel="stylesheet" href="widgets/weather/weather.css">

  <script>
    /*
      Safari iPad met TOUT en cache.
      On ajoute un timestamp aux CSS pour forcer le rechargement.
    */
    var v = Date.now();
    document.getElementById("cssBase").href = "css/base.css?v=" + v;
    document.getElementById("cssLayout").href = "css/layout.css?v=" + v;
    document.getElementById("cssComponents").href = "css/components.css?v=" + v;
    document.getElementById("cssCalendar").href = "widgets/calendar/calendar.css?v=" + v;
    document.getElementById("cssWeather").href = "widgets/weather/weather.css?v=" + v;
  </script>
</head>

<body>

  <div class="container mode-4">

    <div class="leftCol">
      <div data-widget="clock"></div>
      <div data-widget="weather"></div>
      <div data-widget="wedding"></div>
      <div data-widget="bus"></div>
    </div>

    <div class="rightCol">
      <div data-widget="calendar"></div>
    </div>

  </div>

  <!-- JS principaux -->
  <script id="jsVH" src="js/vh.js"></script>
  <script id="jsConfig" src="js/config.js"></script>
  <script id="jsInclude" src="js/include.js"></script>
  <script id="jsApp" src="js/app.js"></script>

  <script>
    /*
      ðŸ”¥ Cache-busting JS
      MÃªme principe que pour les CSS : Safari recharge toujours la derniÃ¨re version.
    */
    document.getElementById("jsVH").src = "js/vh.js?v=" + v;
    document.getElementById("jsConfig").src = "js/config.js?v=" + v;
    document.getElementById("jsInclude").src = "js/include.js?v=" + v;
    document.getElementById("jsApp").src = "js/app.js?v=" + v;

    /*
      ðŸ”„ Auto-refresh intelligent
      Recharge la page toutes les 5 minutes.
    */
    setTimeout(function () {
      location.reload();
    }, 300000);
  </script>

</body>
</html>
